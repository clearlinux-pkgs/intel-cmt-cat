From 017c4dc08472c2109b97359cfb532708a90ea45f Mon Sep 17 00:00:00 2001
From: James Hunt <james.o.hunt@intel.com>
Date: Tue, 24 Nov 2015 14:18:09 +0000
Subject: [PATCH] Add install rule and instructions.

Change-Id: I0d3c6692755ee1b8827184f7ad0d7f79da0cba42
Signed-off-by: James Hunt <james.o.hunt@intel.com>
Signed-off-by: Tomasz Kantecki <tomasz.kantecki@intel.com>
---
 Makefile | 13 ++++++++++++-
 README   |  4 ++++
 2 files changed, 16 insertions(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index 131b980..cdf9c0f 100644
--- a/Makefile
+++ b/Makefile
@@ -65,6 +65,11 @@ endif
 # Build targets and dependencies
 APP = pqos
 
+# XXX: modify as desired
+PREFIX ?= /usr/local
+BIN_DIR = $(PREFIX)/bin
+MAN_DIR = $(PREFIX)/man/man8
+
 all: $(APP)
 
 $(APP): main.o profiles.o $(LIBNAME)
@@ -73,7 +78,13 @@ $(APP): main.o profiles.o $(LIBNAME)
 $(LIBNAME):
 	make -C lib all
 
-.PHONY: clean clobber TAGS
+install: $(APP)
+	install -D -s $(APP) $(BIN_DIR)/$(APP)
+
+uninstall:
+	-rm $(BIN_DIR)/$(APP)
+
+.PHONY: clean clobber rinse TAGS install uninstall
 
 clean:
 	-rm -f $(APP) main.o profiles.o
diff --git a/README b/README
index 0c86ddb..de4dcc5 100644
--- a/README
+++ b/README
@@ -95,6 +95,10 @@ To compile PQoS utility:
         "make clean" for cleaning build files.
         "make clobber" for clearing even more files than "make clean".
 
+To install the PQoS utility (optional), first compile, then:
+        "sudo make install" to install below /usr/local.
+        "sudo make install PREFIX=/some/where" to install below /some/where.
+
 To compile PQoS library:
         cd pqos/lib/
         "make help" lists various make options.
-- 
2.5.0

